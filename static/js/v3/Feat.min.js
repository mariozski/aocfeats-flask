define(["dojo/string"],function(b){var a=function(j,d,h,g,c,e,f,i){this.id=j;this.tree=d;this.row=h;this.column=g;this.availablePoints=e;this.imgIndex=c;this.usedPoints=0;this.parent=f;this.size=38;this.description=i;this.description.parent=this;this.positionX=(-this.imgIndex*this.size)+"px"};a.prototype.SortId=function(){var c=(this.parent!=null&&this.parent[0]==this.row&&this.parent[1]>this.column);return parseInt(this.tree.toString()+this.row.toString()+(c?this.parent[1]:this.column).toString()+(c?"1":"0"),10)};a.prototype.PositionX=function(){return this.positionX};a.prototype.PositionY=function(){return(-this.usedPoints*16)+"px"};a.prototype.Id=function(){return b.pad((this.id+this.usedPoints-1).toString(16),5,"0")};a.prototype.RawId=function(){return this.id.toString().substr(0,this.id.toString().length-1)};a.prototype.IncreaseUsedPoints=function(f,d){var e=0,c=0;if(f){c=(d<=this.availablePoints?d:this.availablePoints-this.usedPoints);e=this.usedPoints+c}else{c=1;e=this.usedPoints+c}if(e<=this.availablePoints){this.usedPoints=e;return c}return 0};a.prototype.DecreaseUsedPoints=function(){var c=this.usedPoints-1;if(c>=0){this.usedPoints=c;return true}return false};a.prototype.GetDescription=function(){return this.description.GetDescription()};a.prototype.PointsNeeded=function(){return(this.row-1)*5};a.prototype.HasAnyPoints=function(){return this.usedPoints!=0};a.prototype.Points=function(){return this.usedPoints};a.prototype.IsFullyFitted=function(){return this.usedPoints==this.availablePoints};return a});